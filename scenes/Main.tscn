[gd_scene load_steps=22 format=3 uid="uid://c7etnmicu136n"]

[ext_resource type="PackedScene" uid="uid://dsmsb7kwv0ce1" path="res://managers/camera_2d.tscn" id="1_c01mt"]
[ext_resource type="Script" uid="uid://cfeicvpmqto3f" path="res://scenes/Main.gd" id="1_jlsqs"]
[ext_resource type="PackedScene" uid="uid://bulqqx1t7sun1" path="res://scenes/background/Background.tscn" id="1_nxtc6"]
[ext_resource type="PackedScene" uid="uid://corxhrleskgv" path="res://scenes/player/Player.tscn" id="3_c01mt"]
[ext_resource type="PackedScene" uid="uid://ba4erv8r40yb3" path="res://managers/AttackManager.tscn" id="4_nxtc6"]
[ext_resource type="PackedScene" uid="uid://bib5lohuq1xli" path="res://scenes/ui/HUD.tscn" id="4_rarhs"]
[ext_resource type="Texture2D" uid="uid://blmdh84m208op" path="res://assets/textures/heart/heart_full.png" id="5_c01mt"]
[ext_resource type="PackedScene" uid="uid://ubab6emcqyow" path="res://scenes/attacks/AttackWave.tscn" id="6_bjd11"]
[ext_resource type="Texture2D" uid="uid://48kbqnmj1mpn" path="res://assets/textures/heart/heart_empty.png" id="6_nxtc6"]
[ext_resource type="Script" uid="uid://8e8b6xpph6c" path="res://scenes/attacks/attack_wave.gd" id="6_qmy6f"]
[ext_resource type="PackedScene" uid="uid://bke4qrafgvt22" path="res://scenes/attacks/MissileAttack.tscn" id="6_wp0k4"]
[ext_resource type="PackedScene" uid="uid://bbilyyr7k5y11" path="res://scenes/attacks/BulletStreamAttack.tscn" id="7_qmy6f"]
[ext_resource type="PackedScene" uid="uid://cxaxhc521axja" path="res://scenes/collectibles/CollectibleSpawner.tscn" id="13_qmy6f"]
[ext_resource type="PackedScene" uid="uid://eyugwkkpnj6t" path="res://scenes/collectibles/Collectible.tscn" id="14_mwfav"]

[sub_resource type="Environment" id="Environment_nxtc6"]
glow_enabled = true
glow_intensity = 1.2
glow_bloom = 0.38
glow_hdr_threshold = 0.83

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_jlsqs"]

[sub_resource type="Compositor" id="Compositor_q8u5g"]

[sub_resource type="Curve2D" id="Curve2D_bjd11"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 24, 622, 0, 0, 0, 0, 27, 42)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_lhr70"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 27, 26, 0, 0, 0, 0, 1118, 23, 0, 0, 0, 0, 1124, 624, 0, 0, 0, 0, 28, 626)
}
point_count = 4

[sub_resource type="Curve2D" id="Curve2D_wp0k4"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1117, 618, 0, 0, 0, 0, 19, 626, 0, 0, 0, 0, 23, 28, 0, 0, 0, 0, 1122, 25)
}
point_count = 4

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_bjd11"]

[node name="Main" type="Node2D"]
script = ExtResource("1_jlsqs")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_nxtc6")
camera_attributes = SubResource("CameraAttributesPractical_jlsqs")
compositor = SubResource("Compositor_q8u5g")

[node name="Background" parent="." instance=ExtResource("1_nxtc6")]
offset_left = -60.0
offset_top = -84.0
offset_right = 1207.0
offset_bottom = 709.0

[node name="Camera2D" parent="." instance=ExtResource("1_c01mt")]
position = Vector2(576, 322)

[node name="Player" parent="." instance=ExtResource("3_c01mt")]
position = Vector2(586, 276)

[node name="AttackManager" parent="." node_paths=PackedStringArray("hud", "attack_waves_container") instance=ExtResource("4_nxtc6")]
hud = NodePath("../HUD")
attack_waves_container = NodePath("EasyWaves")

[node name="Testing" type="Node2D" parent="AttackManager"]

[node name="EasyWaves" type="Node2D" parent="AttackManager"]

[node name="Wave0" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]
wave_duration = 7.0
disable_child_attacks_on_finish = false
notes = "One attack"

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/Wave0" instance=ExtResource("7_qmy6f")]
position = Vector2(0, 315)

[node name="MissileWave0" type="Node2D" parent="AttackManager/EasyWaves"]
script = ExtResource("6_qmy6f")
end_delay = 0.0
disable_child_attacks_on_finish = false
metadata/_custom_type_script = "uid://8e8b6xpph6c"

[node name="MissileAttack" parent="AttackManager/EasyWaves/MissileWave0" instance=ExtResource("6_wp0k4")]
position = Vector2(574, 331)
spawn_delay = 0.0
spawn_radius = 600.0
missile_count = 15
fire_rate = 0.05000000000291038
attack_duration = 10.0

[node name="Wave1" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]
wave_duration = 7.0
end_delay = 0.0

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/Wave1" instance=ExtResource("7_qmy6f")]
position = Vector2(0, 214)

[node name="BulletStreamAttack2" parent="AttackManager/EasyWaves/Wave1" instance=ExtResource("7_qmy6f")]
position = Vector2(1159, 391)
rotation = -3.1415927

[node name="Wave2" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/Wave2" instance=ExtResource("7_qmy6f")]
position = Vector2(775, -3)
rotation = 1.5707964
stream_width = 40.0
bullet_count = 30

[node name="BulletStreamAttack2" parent="AttackManager/EasyWaves/Wave2" instance=ExtResource("7_qmy6f")]
position = Vector2(376, -3)
rotation = 1.5707964
stream_width = 40.0
bullet_count = 30

[node name="Wave3" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]
disable_child_attacks_on_finish = false
stagger_attacks = true
stagger_delay = 1.0

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(417, -3)
rotation = 1.5707964
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack2" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(590, 633)
rotation = -1.5707964
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack3" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(802, -3)
rotation = 1.5707964
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack4" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(927, 633)
rotation = -1.5707964
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack5" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(208, 633)
rotation = -1.5707964
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack6" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(-5, 499)
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack7" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(1143, 217)
rotation = 3.1415927
stream_width = 100.0
bullet_spacing = 35.0
bullet_count = 30

[node name="BulletStreamAttack8" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(583, -5)
rotation = 1.5707964
stream_width = 1000.0
bullet_spacing = 30.0
fire_rate = 0.0
bullet_count = 25

[node name="BulletStreamAttack9" parent="AttackManager/EasyWaves/Wave3" instance=ExtResource("7_qmy6f")]
position = Vector2(623, 650)
rotation = -1.5707964
stream_width = 1000.0
bullet_spacing = 30.0
fire_rate = 0.0
bullet_count = 25

[node name="MissileWave" type="Node2D" parent="AttackManager/EasyWaves"]
script = ExtResource("6_qmy6f")
wave_duration = 15.0
end_delay = 0.0
disable_child_attacks_on_finish = false
metadata/_custom_type_script = "uid://8e8b6xpph6c"

[node name="MissileAttack" parent="AttackManager/EasyWaves/MissileWave" instance=ExtResource("6_wp0k4")]
position = Vector2(574, 331)
spawn_delay = 0.0
spawn_radius = 600.0
max_num_active = 8
missile_count = 30
fire_rate = 0.1999999999970896
attack_duration = 10.0

[node name="MovingWave0" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]
wave_duration = 5.0
end_delay = 0.10000000000582077
stagger_attacks = true

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/MovingWave0" node_paths=PackedStringArray("path_follow") instance=ExtResource("7_qmy6f")]
position = Vector2(0, 519)
bullet_count = 100
path_follow = NodePath("../Path2D/PathFollow2D")
path_loop = true
smooth_rotation = true
rotation_speed = 10.0

[node name="Path2D" type="Path2D" parent="AttackManager/EasyWaves/MovingWave0"]
curve = SubResource("Curve2D_bjd11")

[node name="PathFollow2D" type="PathFollow2D" parent="AttackManager/EasyWaves/MovingWave0/Path2D"]
position = Vector2(24, 622)
rotation = -1.565624
rotates = false

[node name="MovingWave1" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]
wave_duration = 5.0

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/MovingWave1" node_paths=PackedStringArray("path_follow") instance=ExtResource("7_qmy6f")]
position = Vector2(0, 519)
bullet_count = 100
path_follow = NodePath("../Path2D/PathFollow2D")
path_loop = true
smooth_rotation = true
rotation_speed = 10.0

[node name="Path2D" type="Path2D" parent="AttackManager/EasyWaves/MovingWave1"]
curve = SubResource("Curve2D_bjd11")

[node name="PathFollow2D" type="PathFollow2D" parent="AttackManager/EasyWaves/MovingWave1/Path2D"]
position = Vector2(24, 622)
rotation = -1.565624
rotates = false

[node name="BulletStreamAttack2" parent="AttackManager/EasyWaves/MovingWave1" node_paths=PackedStringArray("path_follow") instance=ExtResource("7_qmy6f")]
position = Vector2(1152, 519)
rotation = 3.1415927
bullet_count = 100
path_follow = NodePath("../Path2D2/PathFollow2D")
path_loop = true
smooth_rotation = true
rotation_speed = 10.0

[node name="Path2D2" type="Path2D" parent="AttackManager/EasyWaves/MovingWave1"]
position = Vector2(1098, 0)
curve = SubResource("Curve2D_bjd11")

[node name="PathFollow2D" type="PathFollow2D" parent="AttackManager/EasyWaves/MovingWave1/Path2D2"]
position = Vector2(24, 622)
rotation = -1.565624
rotates = false

[node name="MovingWave2" parent="AttackManager/EasyWaves" instance=ExtResource("6_bjd11")]

[node name="BulletStreamAttack" parent="AttackManager/EasyWaves/MovingWave2" node_paths=PackedStringArray("path_follow") instance=ExtResource("7_qmy6f")]
position = Vector2(56, 0)
stream_width = 30.0
bullet_spacing = 80.0
fire_rate = 0.1999999999970896
bullet_count = 100
path_follow = NodePath("../Path2D/PathFollow2D")
path_speed = 500.0
path_loop = true
rotation_speed = 100.0

[node name="BulletStreamAttack2" parent="AttackManager/EasyWaves/MovingWave2" node_paths=PackedStringArray("path_follow") instance=ExtResource("7_qmy6f")]
position = Vector2(1087, 645)
stream_width = 30.0
bullet_spacing = 80.0
fire_rate = 0.1999999999970896
bullet_count = 100
path_follow = NodePath("../Path2D2/PathFollow2D")
path_speed = 500.0
path_loop = true
rotation_speed = 100.0

[node name="Path2D" type="Path2D" parent="AttackManager/EasyWaves/MovingWave2"]
curve = SubResource("Curve2D_lhr70")

[node name="PathFollow2D" type="PathFollow2D" parent="AttackManager/EasyWaves/MovingWave2/Path2D"]
position = Vector2(27, 26)
rotation = -0.0027497641

[node name="Path2D2" type="Path2D" parent="AttackManager/EasyWaves/MovingWave2"]
curve = SubResource("Curve2D_wp0k4")

[node name="PathFollow2D" type="PathFollow2D" parent="AttackManager/EasyWaves/MovingWave2/Path2D2"]
position = Vector2(1117, 618)
rotation = 3.134307

[node name="HUD" parent="." node_paths=PackedStringArray("player") instance=ExtResource("4_rarhs")]
player = NodePath("../Player")
heart_full_texture = ExtResource("5_c01mt")
heart_empty_texture = ExtResource("6_nxtc6")

[node name="CollectibleSpawner" parent="." instance=ExtResource("13_qmy6f")]
collectible_scene = ExtResource("14_mwfav")

[node name="Bounds" type="Node2D" parent="."]

[node name="LeftWall" type="StaticBody2D" parent="Bounds"]
position = Vector2(33, 339)
rotation = 1.5707964
collision_layer = 8
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/LeftWall"]
shape = SubResource("WorldBoundaryShape2D_bjd11")

[node name="RightWall" type="StaticBody2D" parent="Bounds"]
position = Vector2(1135, 354)
rotation = -1.5707964
collision_layer = 8
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/RightWall"]
shape = SubResource("WorldBoundaryShape2D_bjd11")

[node name="BottomWall" type="StaticBody2D" parent="Bounds"]
position = Vector2(610, 613)
collision_layer = 8
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/BottomWall"]
shape = SubResource("WorldBoundaryShape2D_bjd11")

[node name="TopWall" type="StaticBody2D" parent="Bounds"]
position = Vector2(610, 41)
rotation = -3.1415927
collision_layer = 8
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/TopWall"]
shape = SubResource("WorldBoundaryShape2D_bjd11")

[editable path="Background"]
